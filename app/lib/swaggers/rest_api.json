{"openapi":"3.0.0","paths":{"/api/v1/users":{"post":{"operationId":"UsersController_create_v1","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto"}}}}},"security":[{"bearer":[]}],"tags":["Users"]},"get":{"operationId":"UsersController_findAll_v1","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserDto"}}}}}},"security":[{"bearer":[]}],"tags":["Users"]}},"/api/v1/users/{id}":{"get":{"operationId":"UsersController_findOne_v1","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto"}}}}},"tags":["Users"]},"patch":{"operationId":"UsersController_update_v1","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto"}}}}},"security":[{"bearer":[]}],"tags":["Users"]},"delete":{"operationId":"UsersController_remove_v1","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto"}}}}},"security":[{"bearer":[]}],"tags":["Users"]}},"/api/v1/users/{id}/avatar":{"put":{"operationId":"UsersController_putAvatarImage_v1","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"file":{"type":"string","format":"binary"}}}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PutAvatarResponseDto"}}}}},"security":[{"bearer":[]}],"tags":["Users"]},"delete":{"operationId":"UsersController_deleteAvatarImage_v1","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteAvatarResponseDto"}}}}},"security":[{"bearer":[]}],"tags":["Users"]}},"/api/v1/users/{id}/roles":{"post":{"operationId":"UsersController_giveRole_v1","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto"}}}}},"security":[{"bearer":[]}],"tags":["Users"]},"delete":{"operationId":"UsersController_removeRole_v1","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleDto"}}}}},"security":[{"bearer":[]}],"tags":["Users"]},"get":{"operationId":"UsersController_getRoles_v1","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RoleDto"}}}}}},"security":[{"bearer":[]}],"tags":["Users"]}},"/api/v1/auth/login":{"post":{"operationId":"AuthController_login_v1","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthToken"}}}}},"tags":["Auth"]}},"/api/v1/auth/register":{"post":{"operationId":"AuthController_register_v1","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthToken"}}}}},"tags":["Auth"]}},"/api/v1/auth/logout":{"post":{"operationId":"AuthController_logout_v1","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/"}}}}},"security":[{"bearer":[]}],"tags":["Auth"]}},"/api/v1/auth/me":{"post":{"operationId":"AuthController_me_v1","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserSensitiveDto"}}}}},"security":[{"bearer":[]}],"tags":["Auth"]},"put":{"operationId":"AuthController_updateMe_v1","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateMeDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserSensitiveDto"}}}}},"security":[{"bearer":[]}],"tags":["Auth"]}},"/api/v1/auth/me/avatar":{"put":{"operationId":"AuthController_updateMeAvatar_v1","parameters":[],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"file":{"type":"string","format":"binary"}}}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"string","example":"http://imageURL"}}}}},"security":[{"bearer":[]}],"tags":["Auth"]}},"/api/v1/auth/refresh":{"post":{"operationId":"AuthController_refresh_v1","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthToken"}}}}},"tags":["Auth"]}},"/api/v1/habits":{"post":{"operationId":"HabitsController_create_v1","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateHabitDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HabitDto"}}}}},"security":[{"bearer":[]}],"tags":["Habits"]},"get":{"operationId":"HabitsController_findAll_v1","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/HabitDto"}}}}}},"security":[{"bearer":[]}],"tags":["Habits"]}},"/api/v1/habits/users/me":{"get":{"operationId":"HabitsController_findReqUsersAll_v1","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/HabitDetailsDto"}}}}}},"security":[{"bearer":[]}],"tags":["Habits"]}},"/api/v1/habits/users/{user_id}":{"get":{"operationId":"HabitsController_findUsersAll_v1","parameters":[{"name":"user_id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/HabitDetailsDto"}}}}}},"security":[{"bearer":[]}],"tags":["Habits"]}},"/api/v1/habits/{id}":{"get":{"operationId":"HabitsController_findOne_v1","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HabitDetailsDto"}}}}},"tags":["Habits"]},"patch":{"operationId":"HabitsController_update_v1","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateHabitDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HabitDetailsDto"}}}}},"security":[{"bearer":[]}],"tags":["Habits"]},"delete":{"operationId":"HabitsController_remove_v1","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HabitDto"}}}}},"security":[{"bearer":[]}],"tags":["Habits"]}},"/api/v1/habits/{id}/activities/{year}/{month}":{"get":{"operationId":"HabitsController_getMonthActivity_v1","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}},{"name":"year","required":true,"in":"path","schema":{"type":"string"}},{"name":"month","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MonthlyActivityDto"}}}}},"security":[{"bearer":[]}],"tags":["Habits"]}},"/api/v1/habits/{id}/activities":{"get":{"operationId":"HabitsController_getActivity_v1","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"tags":["Habits"]}},"/api/v1/habits/{id}/activities/today":{"get":{"operationId":"HabitsController_getTodayActivtiy_v1","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"tags":["Habits"]},"post":{"operationId":"HabitsController_addTodayActivtiy_v1","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"201":{"description":""}},"security":[{"bearer":[]}],"tags":["Habits"]},"delete":{"operationId":"HabitsController_removeTodayActivtiy_v1","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"tags":["Habits"]},"put":{"operationId":"HabitsController_switchTodayActivtiy_v1","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TodayActivityDto"}}}}},"security":[{"bearer":[]}],"tags":["Habits"]}}},"info":{"title":"","description":"","version":"1.0.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"CreateUserDto":{"type":"object","properties":{"username":{"type":"string"},"email":{"type":"string","example":"example@example.com"},"passwordHash":{"type":"string"},"isActive":{"type":"boolean"}},"required":["username","email","passwordHash"]},"UserDto":{"type":"object","properties":{"id":{"type":"integer"},"username":{"type":"string"},"isActive":{"type":"boolean"},"avatarUrl":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["id","username","isActive","createdAt","updatedAt"]},"UpdateUserDto":{"type":"object","properties":{"username":{"type":"string"},"email":{"type":"string","example":"example@example.com"},"passwordHash":{"type":"string"},"isActive":{"type":"boolean"}}},"PutAvatarResponseDto":{"type":"object","properties":{"isUpdated":{"type":"boolean"}},"required":["isUpdated"]},"DeleteAvatarResponseDto":{"type":"object","properties":{"isDeleted":{"type":"boolean"}},"required":["isDeleted"]},"RoleDto":{"type":"object","properties":{"role":{"type":"string"}},"required":["role"]},"LoginDto":{"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"}},"required":["username","password"]},"AuthToken":{"type":"object","properties":{"access_token":{"type":"string"},"refresh_token":{"type":"string"},"token_type":{"type":"string"}},"required":["access_token","refresh_token","token_type"]},"RegisterDto":{"type":"object","properties":{"username":{"type":"string"},"email":{"type":"string","example":"example@example.com"},"password":{"type":"string"}},"required":["username","email","password"]},"UserSensitiveDto":{"type":"object","properties":{"id":{"type":"integer"},"username":{"type":"string"},"isActive":{"type":"boolean"},"avatarUrl":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"email":{"type":"string"}},"required":["id","username","isActive","createdAt","updatedAt","email"]},"UpdateMeDto":{"type":"object","properties":{"username":{"type":"string"},"email":{"type":"string"}},"required":["username","email"]},"CreateHabitDto":{"type":"object","properties":{"name":{"type":"string"},"maxGapDays":{"type":"integer"}},"required":["name","maxGapDays"]},"HabitDto":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"},"maxGapDays":{"type":"integer"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["id","name","maxGapDays","createdAt","updatedAt"]},"HabitDetailsDto":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"},"maxGapDays":{"type":"integer"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"streak":{"type":"integer"},"isDoneToday":{"type":"boolean"}},"required":["id","name","maxGapDays","createdAt","updatedAt","streak","isDoneToday"]},"UpdateHabitDto":{"type":"object","properties":{"name":{"type":"string"},"maxGapDays":{"type":"integer"}}},"MonthlyActivityDto":{"type":"object","properties":{"activity":{"type":"array","items":{"type":"integer"}}},"required":["activity"]},"TodayActivityDto":{"type":"object","properties":{"isDoneToday":{"type":"boolean"}},"required":["isDoneToday"]}}}}